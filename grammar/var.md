# 从变量开始

## 第一个程序

1. Python 源程序就是一个特殊格式的文本文件，可以使用任意文本编辑器编写。
2. Python 程序的文件扩展名通常都是 `.py`。
3.  创建一个 `main.py` 文件，在文件中输入如下文本。

```python
print('hello, world')
```

4. 在控制台执行如下命令

```shell
python main.py
```

> [!warning]
>
> 每行代码只完成一个操作。

## 代码注释

### 注释得到作用

在程序中对某些代码进行标注，增强程序的可读性。

### 单行注释

```python
# 这是第一个单行注释，print 是在控制台中输出的函数
print('hello world') # 为了保证代码可读性，注释和代码之间保留空格
```

### 多行注释

如果需要注释的信息很多，一行无法显示就可以使用多行注释。

```python
"""
这是一个多行注释

在多行注释之间，可以写很多很多的内容……
""" 
print('hello world')
```

### 注释的作用

<img src="https://s1.ax1x.com/2023/02/26/pppcV00.jpg" style="zoom:35%;" />

1. 注释不是越多越好，对于一目了然的代码，不需要添加注释。
2. 对于复杂的操作，应该在操作开始前写上若干行注释。
3. 对于不是一目了然的代码，应在其行尾添加注释。
4. 绝不要描述代码，假设阅读代码的人比你更懂 Python，他只是不知道你的代码要做什么。

## 代码规范

> 任何语言的程序员，编写出符合规范的代码，是开始程序生涯的第一步。

* Python 官方提供有一系列 PEP（Python Enhancement Proposals）文档，其中第8篇文档专门针对Python 的代码格式给出了建议，也就是俗称的**PEP8**。
* [官方文档](https://www.python.org/dev/peps/pep-0008/)
* [中文文档](http://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/)

## 算数运算符

是完成基本的算术运算使用的符号，用来处理四则运算。

| 运算符 |  描述  | 实例                                       |
| :----: | :----: | ------------------------------------------ |
|   +    |   加   | 10 + 20 = 30                               |
|   -    |   减   | 10 - 20 = -10                              |
|   *    |   乘   | 10 * 20 = 200                              |
|   /    |   除   | 10 / 20 = 0.5                              |
|   //   | 取整除 | 返回除法的整数部分（商） 9 // 2 输出结果 4 |
|   %    | 取余数 | 返回除法的余数 9 % 2 = 1                   |
|   **   |   幂   | 又称次方、乘方，2 ** 3 = 8                 |

在 Python 中 `*` 运算符还可以用于字符串，计算结果就是字符串重复指定次数的结果。

```python
"-" * 50
```

### 运算符的优先级

Python 中进行数学计算时，运算符的优先级和数学计算规范一致：

* 先乘除后加减
* 同级运算符是从左至右计算
* 可以使用 `()` 调整计算的优先级

算数优先级由高到低排序如下表：

| 运算符   | 描述                   |
| -------- | ---------------------- |
| **       | 幂 (最高优先级)        |
| * / % // | 乘、除、取余数、取整除 |
| + -      | 加法、减法             |

算数优先级测试

```python
print(2 + 3 * 5)
print((2 + 3) * 5)
print(2 * 3 + 5)
print(2 * (3 + 5))

2 ** 1000 # 其他语言计算会非常复杂
```

## 变量的基本使用

> 程序就是用来处理数据的，而变量就是存储数据的容器

### 变量的定义

每个变量 在使用前都必须赋值，变量赋值以后才会被创建。

等号（`=`）用来给变量赋值

* `=` 左边是一个变量名（左值）
* `=` 右边是存储在变量中的值（右值）
* 变量定义后，后续代码中可以直接使用

```python
a = 3 # 变量名 = 值

# case 1
name = 'tom' # 字符串用引号包括起来

print(name) # 在jupyter中可以直接使用变量查看内存

# case 2
price = 8.5
number = 2
money = price * number # 计算金额
print(money)
```

在内存中创建一个变量，会包括：

1. 变量的名称
2. 变量保存的数据
3. 变量存储数据的类型
4. 变量的地址

变量的操作

1. 变量名只有在 第一次出现时才是定义变量。
2. 变量名再次出现，不是定义变量，而是直接使用之前定义过的变量。
3. 变量中保存的值可以修改。

### Python的数据类型

```mermaid
graph 
数据类型-->number
数据类型-->a
数据类型-->序列类型
序列类型-->string
序列类型-->list列表
序列类型-->tuple元组
序列类型-->dict字典
序列类型-->set集合
number-->int有符号整数
number-->float浮点数
number-->complex复数
a[bool-非零即真]-->True
a-->False=0
```

* 在 Python 2.x 中，整数的长度还分为 `int/long`，Python 3.x 中已取消。
* complex复数，主要用于科学计算，例如：平面场问题、波动问题、电感电容等问题。
* 在 Python 中定义变量时不需要指定类型，Python 解释器可以自动推导变量类型。

```python
# 使用type函数查看变量类型
name = '张三'
age = 18
is_male = True
height = 1.75
weight = 75.0

type(name)
type(age)
type(is_male)
type(weight)
```

### 变量的计算

1. 数字型变量之间可以直接计算。

   * Python 中，两个数字型变量是可以直接进行算数运算。

   * 如果变量是 `bool` 型，在计算时：
     * `True` 对应的数字是 `1`
     * `False` 对应的数字是 `0`

```python
i = 10
f = 10.5
b = True

i * f
b * f
b + i
```

2. 字符串变量之间使用 `+` 拼接字符串。

```python
first_name = "三"
last_name = "张"

first_name + last_name
```

3. 字符串变量可以和整数使用 `*` 重复拼接相同的字符串。

```python
"-" * 50
```

4. 数字型变量和字符串之间不能进行其他计算。

```python
first_name + f
```

## 认识Bug

* Bug是指程序不能正常执行，或执行结果符合期望。原因包括：
  1. 语法和拼写错误。
  2. 计算异常。
  3. 业务逻辑错误。
* 程序员要学会发现和解决程序编写中产生的Bug。一般工作中Codeing时间占工作时间的三分之一，而三分之二的时间用来修改Bug。

```python
i / 0
```

## 变量输入

在 Python 中可以使用 `input` 函数从键盘等待用户的输入，用户输入的任何内容都视为是一个字符串。

```python
input("请输入")
```

如果想从输入信息中获得数字，需要强制类型转换。

| 函数     | 说明                  |
| -------- | --------------------- |
| int(x)   | 将 x 转换为一个整数   |
| float(x) | 将 x 转换到一个浮点数 |

```python
int('10')
float('18.5')
int('张三')
```

### 价格计算

```python
price_str = input("请输入商品单价：")
number_str = input("请输商品数量：")

price = float(price_str)
number = float(number_str)

total = price * number
print(total)
```

函数嵌套调用

```python
price = float(input("请输入商品单价："))
```

## 变量的格式化输出

* 格式化输出是指在打印文字的同时，可以打印变量中的数据。`print`  函数可以完成格式化输出。
* `%` 被称为格式化操作符，专门用于格式化输出：
  * 包含 `%` 的字符串，被称为格式化字符串。
  * `%` 和不同的字符连用，可以完成不同类型数据的格式化输出。

| 格式化字符 | 含义                                                         |
| ---------- | ------------------------------------------------------------ |
| %s         | 字符串                                                       |
| %d         | 有符号十进制整数，`%06d` 表示输出的整数显示位数，不足的地方使用 `0` 补全 |
| %f         | 浮点数，`%.2f` 表示小数点后只显示两位                        |
| %%         | 输出 `%`                                                     |

```python
name = '张三'
student_no = 1011
scale = 0.2

print("你好，我是 %s，请多多关照！" % name)
print("我的学号是 %06d" % student_no)
print("请输入商品单价 %.02f 元，商品数量 %0f 个，需要支付 %.02f 元" % (price, number, total))
print("百分百为 %.02f%%" % (scale * 100))

student_no = 12345678
print("我的学号是 %06d" % student_no)
```

* 可以写为 `f'{表达式}'`（Python3.6新增的格式化⽅方法）

```python
print(f"我的名字是{name}，学号是{student_no}")
```

## 变量的命名

### 标识符与关键字

#### 标识符

标示符就是程序员定义的变量名、函数名，标识符定义的原则——见名知义。

* 标示符只可以由字母、下划线和数字组成。
* 不能以数字开头，不能包含空格。
* 不能与关键字重名。
* Python 中的标识符是区分大小写的。

```python
Name = 'Tom'
name = 'Andy'
```

判断标识符是否正确？

```
stuedent1
stuedent#12
one_boolean
one-Boolean
Object2
2Object
oneInt
_test
test!1
unit(L)Value
tom_jerry
tom&jerry
CPU
C.P.U
```

#### 关键字

关键字是在 `Python` 内部已经使用的标识符

* 关键字具有特殊的功能。
* 开发者 不允许定义和关键字相同的名字的标示符。

```python
import keyword # 导入包
print(keyword.kwlist) # 查看 Python 中的关键字
```

### 驼峰命名法

<img src="https://s1.ax1x.com/2023/02/26/pppcmkT.jpg" style="zoom:67%;" />

```python
firstName = '三' # 小驼峰式命名法
LastName = '张' # 大驼峰式命名法
```

* python 中的类通常使用大驼峰式命名法
* 变量和函数通常用小写单词和下划线组合的方式

```python
user_name = 'Tom'
```



